{"remainingRequest":"/Users/gaga/Desktop/Admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/gaga/Desktop/Admin/src/views/Games/WechatSearch.vue?vue&type=style&index=0&id=7c4f33b4&scoped=true&lang=css&","dependencies":[{"path":"/Users/gaga/Desktop/Admin/src/views/Games/WechatSearch.vue","mtime":1595400143967},{"path":"/Users/gaga/Desktop/Admin/node_modules/css-loader/index.js","mtime":1579254447978},{"path":"/Users/gaga/Desktop/Admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1579254448195},{"path":"/Users/gaga/Desktop/Admin/node_modules/postcss-loader/src/index.js","mtime":1573815121151},{"path":"/Users/gaga/Desktop/Admin/node_modules/cache-loader/dist/cjs.js","mtime":1579254447879},{"path":"/Users/gaga/Desktop/Admin/node_modules/vue-loader/lib/index.js","mtime":1579254448195}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.main {\n  width: 90%;\n  height: 20%;\n  margin: 0 auto;\n  background: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  padding: 20px 0;\n}\n.main p:nth-child(1) {\n  margin-bottom: 15px;\n  font-weight: bold;\n  font-size: 18px;\n}\n.table {\n  width: 90%;\n  margin: 20px auto;\n}\n.page {\n  margin-top: 20px;\n  height: 10%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n",{"version":3,"sources":["WechatSearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"WechatSearch.vue","sourceRoot":"src/views/Games","sourcesContent":["<template>\n  <div>\n    <div class=\"main\">\n      <p>输入微信小程序名称</p>\n      <i-input size=\"large\" style=\"width: 400px;display:none\"></i-input>\n      <i-input\n        v-model=\"searchWord\"\n        size=\"large\"\n        placeholder=\"输入微信小程序名称...\"\n        style=\"width: 50%\"\n        @keyup.enter.native=\"suresearch\"\n      >\n        <i-button slot=\"append\" icon=\"ios-search\" @click=\"suresearch\"></i-button>\n      </i-input>\n    </div>\n    <div class=\"table\" v-if=\"alldata.length > 0\">\n      <Table v-if=\"!detail\" border :data=\"showdata\" :columns=\"columns\"></Table>\n      <div class=\"page\">\n        <Page\n          v-if=\"!detail\"\n          :total=\"total\"\n          :page-size=\"pageSize\"\n          :current=\"current\"\n          @on-change=\"getPage\"\n          show-elevator\n        />\n      </div>\n      <Table v-if=\"detail\" border :columns=\"columns2\" :data=\"detailData\"></Table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getWechatSearch, getWechatSearchWord } from \"@/api/index\";\nimport { appdata } from \"@/api/data\";\nexport default {\n  data() {\n    return {\n      searchWord: \"传奇\",\n      alldata: [],\n      showdata: [],\n      detailData: [],\n      total: 0,\n      pageSize: 8,\n      current: 1,\n      detail: false,\n      columns: [\n        {\n          title: \"小程序名称\",\n          key: \"nick_name\",\n          render: (h, params) => {\n            return h(\n              \"a\",\n              {\n                style: {\n                  textDecoration: \"underline\"\n                },\n                on: {\n                  click: () => {\n                    getWechatSearchWord({\n                      nick_name: params.row.nick_name\n                    }).then(res => {\n                      if (res.code == 1) {\n                        this.detail = true;\n                        this.detailData = res.data;\n                        this.$Message.success(res.message);\n                      } else {\n                        this.$Message.error(res.message);\n                      }\n                    });\n                  }\n                }\n              },\n              params.row.nick_name\n            );\n          }\n        },\n        {\n          title: \"简介\",\n          key: \"description\"\n        },\n        {\n          title: \"类目\",\n          key: \"categorys\"\n        },\n        {\n          title: \"类型\",\n          key: \"mainbody_type\",\n          render: (h, params) => {\n            if (params.row.mainbody_type == 1) {\n              return h(\"p\", \"公司\");\n            } else {\n              return h(\"p\", \"个人\");\n            }\n          }\n        },\n        {\n          title: \"主体\",\n          key: \"mainbody\"\n        },\n        {\n          title: \"原始ID\",\n          key: \"user_name\"\n        },\n        {\n          title: \"更新时间\",\n          key: \"update_time\"\n        }\n      ],\n      columns2: [\n        {\n          title: \"关键词\",\n          key: \"name\"\n        }\n      ]\n    };\n  },\n  methods: {\n    getPage(index) {\n      var start = (index - 1) * this.pageSize;\n      var end = start + this.pageSize;\n      this.showdata = this.alldata.slice(start, end);\n    },\n    suresearch() {\n      if (this.searchWord.length == 0) this.$Message.error(\"输入内容不能为空\");\n      else {\n        this.alldata = [];\n        this.detail = false;\n        getWechatSearch({ keyword: this.searchWord }).then(res => {\n          if (res.code == 1) {\n            this.alldata = res.data;\n            this.total = this.alldata.length;\n            this.getPage(1);\n            this.$Message.success(res.message);\n          } else this.$Message.error(res.message);\n        });\n      }\n    }\n  },\n  mounted() {\n    // this.showdata = appdata.data;\n    // this.alldata = appdata.data;\n    // this.total = this.alldata.length;\n    // this.getPage(1);\n    // getWechatSearchWord({ word: \"传奇\" }).then(res => {\n    //   console.log(res);\n    // });\n    // getWechatSearch({ keyword: this.searchWord }).then(res => {\n    //   if (res.code == 1) this.showdata = res.data;\n    // });\n  }\n};\n</script>\n\n<style scoped>\n.main {\n  width: 90%;\n  height: 20%;\n  margin: 0 auto;\n  background: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  padding: 20px 0;\n}\n.main p:nth-child(1) {\n  margin-bottom: 15px;\n  font-weight: bold;\n  font-size: 18px;\n}\n.table {\n  width: 90%;\n  margin: 20px auto;\n}\n.page {\n  margin-top: 20px;\n  height: 10%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n</style>\n"]}]}