{"remainingRequest":"/Users/gaga/Desktop/Admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/gaga/Desktop/Admin/src/views/Games/Keywordthink.vue?vue&type=style&index=0&id=75227846&scoped=true&lang=css&","dependencies":[{"path":"/Users/gaga/Desktop/Admin/src/views/Games/Keywordthink.vue","mtime":1595321533063},{"path":"/Users/gaga/Desktop/Admin/node_modules/css-loader/index.js","mtime":1579254447978},{"path":"/Users/gaga/Desktop/Admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1579254448195},{"path":"/Users/gaga/Desktop/Admin/node_modules/postcss-loader/src/index.js","mtime":1573815121151},{"path":"/Users/gaga/Desktop/Admin/node_modules/cache-loader/dist/cjs.js","mtime":1579254447879},{"path":"/Users/gaga/Desktop/Admin/node_modules/vue-loader/lib/index.js","mtime":1579254448195}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.all {\n  height: 100%;\n  /* background: red; */\n  box-sizing: border-box;\n  padding: 10px 0 0 0;\n}\n.main {\n  width: 90%;\n  height: 20%;\n  margin: 0 auto;\n  background: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin-bottom: 20px;\n}\n.main p:nth-child(1) {\n  margin-bottom: 20px;\n  font-weight: bold;\n  font-size: 18px;\n}\n.result {\n  width: 90%;\n  height: 130%;\n  margin: 0 auto;\n  background: #fff;\n  padding: 30px;\n\n  box-sizing: border-box;\n}\n\n.result .sure {\n  /* width: 50%; */\n  /* background: pink; */\n  margin: 0 auto;\n  text-align: center;\n}\n.loading {\n  display: flex;\n  justify-content: center;\n  margin-top: 100px;\n}\n.postloading {\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n}\n.download {\n  display: flex;\n  justify-content: flex-end;\n}\n.result > p {\n  text-align: center;\n  padding: 15px;\n  font-size: 20px;\n}\n.result > span {\n  float: right;\n  font-size: 15px;\n  color: red;\n  cursor: pointer;\n  text-decoration: underline;\n}\n.result .itembox {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: center;\n  padding-left: 50px;\n}\n.result .itembox .item {\n  width: 20%;\n  text-align: left;\n  margin-bottom: 10px;\n  /* background: red; */\n}\n.item .active {\n  text-decoration: line-through;\n}\n.copydata {\n  margin-bottom: 10px;\n}\n.treeclass {\n  height: 90%;\n}\n@media screen and (max-width: 1600px) {\n  .result .itembox .item {\n    width: 25%;\n    text-align: left;\n    margin-bottom: 10px;\n  }\n}\n@media screen and (max-width: 1400px) {\n  .result .itembox .item {\n    width: 33%;\n    text-align: left;\n    margin-bottom: 10px;\n  }\n  /* .result .itembox .item:nth-child(2n){\n    background: #ccc;\n\n  } */\n}\n@media screen and (max-width: 1200px) {\n  .result .itembox .item {\n    width: 50%;\n    text-align: left;\n    margin-bottom: 10px;\n  }\n}\n@media screen and (max-width: 1000px) {\n  .result .itembox .item {\n    width: 50%;\n    text-align: left;\n    margin-bottom: 10px;\n  }\n}\n@media screen and (max-width: 800px) {\n  .result .itembox .item {\n    width: 50%;\n    text-align: left;\n    margin-bottom: 10px;\n  }\n}\n",{"version":3,"sources":["Keywordthink.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Keywordthink.vue","sourceRoot":"src/views/Games","sourcesContent":["<template>\n  <div class=\"all\">\n    <div class=\"main\">\n      <p>输入关键词</p>\n      <i-input size=\"large\" style=\"width: 400px;display:none\"></i-input>\n      <i-input\n        v-model=\"word\"\n        size=\"large\"\n        placeholder=\"请输入关键词...\"\n        style=\"width: 50%\"\n        @keyup.enter.native=\"suresearch\"\n      >\n        <i-button slot=\"append\" icon=\"ios-search\" @click=\"suresearch\"></i-button>\n      </i-input>\n      <div class=\"switch\" style=\"width:50%;margin-top:20px\">\n        <span style=\"font-size:12px\">删除重复词</span>\n\n        <i-switch v-model=\"switchbtn\" style=\"margin-left:10px\">\n          <span slot=\"open\">是</span>\n          <span slot=\"close\">否</span>\n        </i-switch>\n      </div>\n    </div>\n    <Spin v-if=\"loading\" class=\"loading\" size=\"large\"></Spin>\n\n    <div class=\"result\" v-if=\"showresult\">\n      <p>搜索结果</p>\n      <div class=\"download\">\n        <Button type=\"primary\" @click=\"download\">下载</Button>\n      </div>\n      <tree\n        :data=\"treedata\"\n        :marginY=\"marginY\"\n        :duration=\"duration\"\n        node-text=\"name\"\n        layoutType=\"horizontal\"\n        linkLayout=\"bezier\"\n        type=\"tree\"\n        @clickedText=\"onClick\"\n      ></tree>\n\n      <div class=\"sure\">\n        <Button type=\"primary\" @click=\"postdata\">提交</Button>\n      </div>\n    </div>\n    <!-- 显示筛选过后结果 -->\n    <Modal v-model=\"outputflag\" :title=\"tip\">\n      <Spin v-if=\"postedloading\" class=\"postloading\" size=\"large\"></Spin>\n      <div v-if=\"!postedloading\">\n        <Button class=\"copydata\" type=\"primary\" @click=\"copy\" :data-clipboard-text=\"posteddata\">复制结果</Button>\n        <p style=\"padding:10px\">{{ posteddata}}</p>\n      </div>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport Clipboard from \"clipboard\";\nimport { strdata } from \"@/api/data\";\nimport { tree } from \"vued3tree\";\nimport {\n  getThinkword,\n  postThinkword,\n  downloadThinkword,\n  downloadUrl\n} from \"@/api/index\";\nexport default {\n  components: {\n    tree\n  },\n  data() {\n    return {\n      marginY: 0,\n      duration: 0,\n      treedata: {},\n      word: \"\",\n      loadword: \"\",\n      loading: false,\n      postedloading: true,\n      showresult: false,\n      outputflag: false,\n      switchspace: false,\n      switchbtn: true,\n      tip: \"正在提交\",\n      afterresultdata: [],\n      posteddata: \"\",\n      delword: [],\n      resultdata: []\n    };\n  },\n  mounted() {\n    // var that=this;\n    // var treearr=[];\n    // function gettreedata(arr,newarr){\n    //   arr.map((val)=>{\n    //     that.resultdata.push(\n    //       {\n    //         name:val.word,\n    //         index:val.heat\n    //       })\n    //     if(val.childNodes){\n    //       newarr.push({\n    //         name:`${val.word}(${val.heat})`,\n    //         children:gettreedata(val.childNodes,[])\n    //       })\n    //     }else{\n    //       newarr.push({\n    //         name:`${val.word}(${val.heat})`,\n    //       })\n    //     }\n    // })\n    //   return newarr;\n    // }\n    // gettreedata(strdata,treearr);\n    // // console.log(this.resultdata)\n    // function sortarr(arr){\n    //   var max;\n    //   for(var i=0;i<arr.length;i++){\n    //      for(var j=i;j<arr.length;j++){\n    //        if(parseInt(arr[i].index) < parseInt(arr[j].index) ){\n    //          max=arr[j];\n    //          arr[j]=arr[i];\n    //         arr[i]=max;           }\n    //      }\n    //   }\n    // }\n    // sortarr(this.resultdata);\n    // this.resultdata=this.resultdata.map(val=>val.name)\n    // this.treedata={\n    //   name:treearr[0].name,\n    //   children:treearr[0].children\n    // }\n  },\n  methods: {\n    onClick(evt) {\n      var el = evt.target;\n      var str = el.innerHTML.split(\"\");\n      str.splice(str.indexOf(\"(\"));\n      if (this.delword.indexOf(str.join(\"\")) > -1) {\n        el.style.textDecoration = \"none\";\n        this.delword = this.delword.filter(val => val != str.join(\"\"));\n      } else {\n        el.style.textDecoration = \"line-through\";\n        this.delword.push(str.join(\"\"));\n      }\n    },\n    suresearch() {\n      this.loadword = this.word;\n      this.resultdata = [];\n      this.delword = [];\n      this.treedata = {};\n      this.posteddata = \"\";\n      this.afterresultdata = [];\n      this.loading = false;\n      this.showresult = false;\n      var that = this;\n      if (this.word.length > 0) {\n        this.loading = true;\n        getThinkword({\n          keyword: this.word,\n          choose: this.switchbtn ? 0 : 1\n        }).then(res => {\n          if (res.code == 1) {\n            // this.resultdata=res.msg;\n            var treearr = [];\n            function gettreedata(arr, newarr) {\n              arr.map(val => {\n                that.resultdata.push({\n                  name: val.word,\n                  index: val.heat\n                });\n                if (val.childNodes) {\n                  newarr.push({\n                    name: `${val.word}(${val.heat})`,\n                    children: gettreedata(val.childNodes, [])\n                  });\n                } else {\n                  newarr.push({\n                    name: `${val.word}(${val.heat})`\n                  });\n                }\n              });\n              return newarr;\n            }\n            gettreedata(res.msg, treearr);\n\n            this.treedata = {\n              name: treearr[0].name,\n              children: treearr[0].children\n            };\n\n            function sortarr(arr) {\n              var max;\n              for (var i = 0; i < arr.length; i++) {\n                for (var j = i; j < arr.length; j++) {\n                  if (parseInt(arr[i].index) < parseInt(arr[j].index)) {\n                    [arr[j], arr[i]] = [arr[i], arr[j]];\n                  }\n                }\n              }\n            }\n            sortarr(this.resultdata);\n            this.resultdata = this.resultdata.map(val => val.name);\n            this.showresult = true;\n            this.loading = false;\n          } else {\n            this.loading = false;\n            this.$Message.error(res.msg);\n          }\n        });\n      } else {\n        this.$Message.error(\"输入为空\");\n      }\n    },\n    //  selectitem(index, name) {\n    //   //  console.log(name)\n    //   var item = document.querySelector(\".result\").querySelectorAll(\".item\");\n    //   var input = item[index].querySelector(\"input\");\n    //   if (input.checked) {\n    //     item[index].querySelector(\"span\").className = \"active\";\n    //     if (this.delword.indexOf(name) == -1) {\n    //       this.delword.push(name);\n    //     }\n    //   } else {\n    //     item[index].querySelector(\"span\").className = \"\";\n    //     if (this.delword.indexOf(name) > -1) {\n    //       this.delword = this.delword.filter(item => item != name);\n    //     }\n    //   }\n    // console.log(this.delword)\n    // },\n    postdata() {\n      this.afterresultdata = [];\n      this.resultdata.map(item => {\n        if (this.delword.indexOf(item) == -1) {\n          this.afterresultdata.push(item);\n        }\n      });\n      this.tip = \"正在提交\";\n      this.outputflag = true;\n      this.postedloading = true;\n      postThinkword({\n        keyword: this.word,\n        word: this.afterresultdata.join(\"\"),\n        choose: this.switchbtn ? 0 : 1\n      }).then(res => {\n        this.tip = \"提交结果\";\n        this.postedloading = false;\n        this.posteddata = res.msg;\n      });\n    },\n    copy() {\n      var clipboard = new Clipboard(\".copydata\");\n      clipboard.on(\"success\", e => {\n        this.$Message.success(\"复制成功\");\n        // 释放内存\n        clipboard.destroy();\n      });\n      clipboard.on(\"error\", e => {\n        this.$Message.error(\"该浏览器不支持复制\");\n        // 释放内存\n        clipboard.destroy();\n      });\n    },\n    download() {\n      downloadThinkword({ keyword: this.loadword }).then(res => {\n        if (res.code == 1) {\n          window.open(downloadUrl + res.msg);\n          this.$Message.success(\"开始下载\");\n        } else {\n          this.$Message.error(res.msg);\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.all {\n  height: 100%;\n  /* background: red; */\n  box-sizing: border-box;\n  padding: 10px 0 0 0;\n}\n.main {\n  width: 90%;\n  height: 20%;\n  margin: 0 auto;\n  background: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin-bottom: 20px;\n}\n.main p:nth-child(1) {\n  margin-bottom: 20px;\n  font-weight: bold;\n  font-size: 18px;\n}\n.result {\n  width: 90%;\n  height: 130%;\n  margin: 0 auto;\n  background: #fff;\n  padding: 30px;\n\n  box-sizing: border-box;\n}\n\n.result .sure {\n  /* width: 50%; */\n  /* background: pink; */\n  margin: 0 auto;\n  text-align: center;\n}\n.loading {\n  display: flex;\n  justify-content: center;\n  margin-top: 100px;\n}\n.postloading {\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n}\n.download {\n  display: flex;\n  justify-content: flex-end;\n}\n.result > p {\n  text-align: center;\n  padding: 15px;\n  font-size: 20px;\n}\n.result > span {\n  float: right;\n  font-size: 15px;\n  color: red;\n  cursor: pointer;\n  text-decoration: underline;\n}\n.result .itembox {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: center;\n  padding-left: 50px;\n}\n.result .itembox .item {\n  width: 20%;\n  text-align: left;\n  margin-bottom: 10px;\n  /* background: red; */\n}\n.item .active {\n  text-decoration: line-through;\n}\n.copydata {\n  margin-bottom: 10px;\n}\n.treeclass {\n  height: 90%;\n}\n@media screen and (max-width: 1600px) {\n  .result .itembox .item {\n    width: 25%;\n    text-align: left;\n    margin-bottom: 10px;\n  }\n}\n@media screen and (max-width: 1400px) {\n  .result .itembox .item {\n    width: 33%;\n    text-align: left;\n    margin-bottom: 10px;\n  }\n  /* .result .itembox .item:nth-child(2n){\n    background: #ccc;\n\n  } */\n}\n@media screen and (max-width: 1200px) {\n  .result .itembox .item {\n    width: 50%;\n    text-align: left;\n    margin-bottom: 10px;\n  }\n}\n@media screen and (max-width: 1000px) {\n  .result .itembox .item {\n    width: 50%;\n    text-align: left;\n    margin-bottom: 10px;\n  }\n}\n@media screen and (max-width: 800px) {\n  .result .itembox .item {\n    width: 50%;\n    text-align: left;\n    margin-bottom: 10px;\n  }\n}\n</style>\n\n"]}]}